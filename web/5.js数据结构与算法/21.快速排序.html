<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>21.快速排序</title>
    <!-- 快速排序是目前所有排序算法中 最快的 -->
    <!-- 快速排序中心思想 分而治之 -->
    <!-- 选取枢纽：头中尾三个数字的中位数 -->
</head>

<body>
    <script>
        function quick_sort(arr, from, to) {
            var i = from; //哨兵i
            var j = to; //哨兵j
            var key = arr[from]; //标准值 从第一个算起
            if (from >= to) { //如果数组只有一个元素
                return;
            }
            while (i < j) {
                //必须从右边开始
                while (arr[j] > key && i < j) { //从右边向左找第一个比key小的数，找到或者两个哨兵相碰，跳出循环
                    j--;
                }
                while (arr[i] <= key && i < j) {
                    //从左边向右找第一个比key大的数，找到或者两个哨兵相碰，跳出循环,这里的=号保证在本轮循环结束前，
                    //key的位置不变，否则的话跳出循环，交换i和from的位置的时候，from位置的上元素有可能不是key
                    i++;
                }
                //代码执行到这里，1、两个哨兵到找到了目标值。2、j哨兵找到了目标值。3、两个哨兵都没找到(key是当前数组最小值)
                if (i < j) { //交换两个元素的位置
                    var temp = arr[i];
                    arr[i] = arr[j];
                    arr[j] = temp;

                }
            }
            //如果i不小于j了 说明走到一个地方了 i与j重合的地方 i换到第一个 key换到当前它们站着的地方
            arr[from] = arr[i] //
            arr[i] = key;
            //进行递归
            quick_sort(arr, from, i - 1); //i-1 是重合的位置再往左走 走到起始位置 新数组
            quick_sort(arr, i + 1, to); //i+1 是往右走 走到最后
        }

        var arr = [3, 3, -5, 6, 0, 2, -1, -1, 3];
        console.log(arr);
        quick_sort(arr, 0, arr.length - 1);
        console.log(arr);
    </script>
</body>

</html>